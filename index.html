<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TAERX PRO | Ø§Ø¨Ù† ÙƒÙˆÙƒÙ„</title>
    <style>
        * { margin:0; padding:0; box-sizing:border-box; font-family:'Segoe UI', sans-serif; }
        body { min-height:100vh; background:#060a16; display:flex; justify-content:center; align-items:center; padding:20px; color:#fff; }
        .card-wrapper { padding:3px; border-radius:32px; background:linear-gradient(90deg, #ff0000, #ffae00, #00ff00, #00ffff, #0000ff, #ff00ff, #ff0000); background-size:400%; animation:snake 15s linear infinite; width:100%; max-width:430px; }
        @keyframes snake { 0%{background-position:0% 50%} 100%{background-position:400% 50%} }
        .card { background:#0f172a; border-radius:30px; padding:35px 28px; width:100%; position:relative; overflow: visible; }
        .brand { text-align:center; font-size:44px; font-weight:900; margin-bottom:25px; color:#ffae00; letter-spacing:4px; }
        .tabs { display:flex; background:#1f2937; border-radius:16px; margin-bottom:25px; padding:4px; }
        .tab { flex:1; text-align:center; padding:14px; cursor:pointer; color:#9ca3af; border-radius:12px; font-weight:600; transition: 0.3s; }
        .tab.active { background:linear-gradient(90deg, #7c3aed, #3b82f6); color:#fff; }
        .input-group { margin-bottom: 5px; position: relative; }
        .input { width:100%; padding:16px; border-radius:14px; border:1px solid #374151; background:#1e293b; color:#fff; outline:none; font-size: 15px; }
        .input.invalid { border-color: #ff4d4d !important; }
        .warn-text { color:#ff4d4d; font-size:12px; margin-top: 4px; margin-bottom:12px; display:none; padding-right: 8px; font-weight: 500; text-align: right; }
        .success-text { color:#10b981; font-size:12px; margin-top: 4px; margin-bottom:12px; display:none; padding-right: 8px; font-weight: 500; text-align: right; }
        .button { width:100%; padding:16px; border:none; border-radius:14px; background:linear-gradient(90deg, #7c3aed, #3b82f6); color:#fff; font-weight:bold; cursor:pointer; margin-top: 10px; font-size: 16px; }
        .link { text-align: center; color: #9ca3af; font-size: 14px; margin-top: 18px; cursor: pointer; text-decoration: underline; display: block; }
        .country-select { position:absolute; left:8px; top:12px; background:#334155; padding:6px 12px; border-radius:10px; cursor:pointer; display:flex; gap:5px; z-index:5; font-size:13px; border:1px solid #475569; direction: ltr; }
        .country-dropdown { position:absolute; width:100%; background:#1e293b; max-height:250px; overflow-y:auto; border-radius:12px; display:none; z-index:100; top: 110%; border:1px solid #374151; box-shadow: 0 10px 30px rgba(0,0,0,0.6); }
        .country-item { padding:14px; cursor:pointer; display:flex; justify-content:space-between; border-bottom: 1px solid #334155; }
        #registerBox, #forgotBox { display:none; }
    </style>
</head>
<body>

<div class="card-wrapper">
    <div class="card">
        <div class="brand">TAERX</div>
        <div class="tabs">
            <div id="tabL" class="tab active">Ø¯Ø®ÙˆÙ„</div>
            <div id="tabR" class="tab">ØªØ³Ø¬ÙŠÙ„</div>
        </div>

        <div id="loginBox">
            <div class="input-group">
                <input type="email" id="lEmail" class="input" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ">
                <div id="lEmailWarn" class="warn-text">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø£Ùˆ Ø§Ù„Ø±Ù…Ø² ØºÙŠØ± ØµØ­ÙŠØ­</div>
            </div>
            <div class="input-group"><input type="password" id="lPass" class="input" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±"></div>
            <button id="btnLogin" class="button">Ø¯Ø®ÙˆÙ„</button>
            <span class="link" id="btnForgot">Ù†Ø³ÙŠØª ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±ØŸ</span>
        </div>

        <div id="registerBox">
            <div class="input-group">
                <input type="text" id="rName" class="input" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„">
                <div id="rNameWarn" class="warn-text">Ø§Ù„Ø§Ø³Ù… Ù‚ØµÙŠØ± Ø¬Ø¯Ø§Ù‹ (4 Ø­Ø±ÙˆÙ ÙØ£ÙƒØ«Ø±)</div>
            </div>
            <div class="input-group" style="position:relative">
                <div id="cBtn" class="country-select"><span id="f">ğŸ‡ºğŸ‡¸</span> <span id="c">+1</span></div>
                <input type="tel" id="rPhone" class="input" style="padding-left:105px; direction: ltr;" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ">
                <div id="cDrop" class="country-dropdown"></div>
            </div>
            <div id="rPhoneWarn" class="warn-text">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† 8 Ø£Ø±Ù‚Ø§Ù… ÙØ£ÙƒØ«Ø±</div>
            <div class="input-group">
                <input type="email" id="rEmail" class="input" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ">
                <div id="rEmailWarn" class="warn-text">ÙŠØ¬Ø¨ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¨Ø±ÙŠØ¯ @gmail.com</div>
            </div>
            <div class="input-group">
                <input type="password" id="rPass" class="input" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
                <div id="rPassWarn" class="warn-text">6 Ø®Ø§Ù†Ø§Øª ÙØ£ÙƒØ«Ø±</div>
            </div>
            <div class="input-group">
                <input type="password" id="rCPass" class="input" placeholder="ØªØ£ÙƒÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
                <div id="rCPassWarn" class="warn-text">Ø§Ù„Ø±Ù…Ø² ØºÙŠØ± Ù…ØªØ·Ø§Ø¨Ù‚</div>
            </div>
            <button id="btnReg" class="button">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨</button>
            <span class="link" id="backToLoginR">Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø¯Ø®ÙˆÙ„</span>
        </div>

        <div id="forgotBox">
            <div class="input-group">
                <input type="email" id="fEmail" class="input" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ">
                <div id="fEmailWarn" class="warn-text">Ø§Ù„Ø¨Ø±ÙŠØ¯ ØºÙŠØ± ØµØ­ÙŠØ­ Ø£Ùˆ ØºÙŠØ± Ù…Ø³Ø¬Ù„</div>
                <div id="fSuccess" class="success-text">âœ… ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø±Ø§Ø¨Ø· Ø§Ù„Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ù„Ø¨Ø±ÙŠØ¯Ùƒ Ø¨Ù†Ø¬Ø§Ø­.</div>
            </div>
            <button id="btnSendReset" class="button">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø§Ø¨Ø·</button>
            <span class="link" id="backToLoginF">Ø±Ø¬ÙˆØ¹ Ù„Ù„Ø¯Ø®ÙˆÙ„</span>
        </div>
    </div>
</div>

<script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-auth-compat.js"></script>

<script>
    const firebaseConfig = { apiKey: "AIzaSyBfpPYreHYPSLytPpwCwXs57fq09Zb2XJc", authDomain: "taerx-81ac0.firebaseapp.com", projectId: "taerx-81ac0" };
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();

    // Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù€ 100 Ø¯ÙˆÙ„Ø©
    const countries = [
        {n:"Ø£Ù…Ø±ÙŠÙƒØ§",c:"+1",f:"ğŸ‡ºğŸ‡¸"},{n:"Ø§Ù„Ø¹Ø±Ø§Ù‚",c:"+964",f:"ğŸ‡®ğŸ‡¶"},{n:"Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©",c:"+966",f:"ğŸ‡¸ğŸ‡¦"},{n:"Ù…ØµØ±",c:"+20",f:"ğŸ‡ªğŸ‡¬"},{n:"Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª",c:"+971",f:"ğŸ‡¦ğŸ‡ª"},{n:"Ø§Ù„ÙƒÙˆÙŠØª",c:"+965",f:"ğŸ‡°ğŸ‡¼"},{n:"Ù‚Ø·Ø±",c:"+974",f:"ğŸ‡¶ğŸ‡¦"},{n:"Ø¹Ù…Ø§Ù†",c:"+968",f:"ğŸ‡´ğŸ‡²"},{n:"Ø§Ù„Ø¨Ø­Ø±ÙŠÙ†",c:"+973",f:"ğŸ‡§ğŸ‡­"},{n:"Ø§Ù„Ø£Ø±Ø¯Ù†",c:"+962",f:"ğŸ‡¯ğŸ‡´"},{n:"ØªØ±ÙƒÙŠØ§",c:"+90",f:"ğŸ‡¹ğŸ‡·"},{n:"Ø³ÙˆØ±ÙŠØ§",c:"+963",f:"ğŸ‡¸ğŸ‡¾"},{n:"Ù„Ø¨Ù†Ø§Ù†",c:"+961",f:"ğŸ‡±ğŸ‡§"},{n:"ÙÙ„Ø³Ø·ÙŠÙ†",c:"+970",f:"ğŸ‡µğŸ‡¸"},{n:"Ø§Ù„ÙŠÙ…Ù†",c:"+967",f:"ğŸ‡¾ğŸ‡ª"},{n:"Ø§Ù„Ø³ÙˆØ¯Ø§Ù†",c:"+249",f:"ğŸ‡¸ğŸ‡©"},{n:"Ù„ÙŠØ¨ÙŠØ§",c:"+218",f:"ğŸ‡±ğŸ‡¾"},{n:"Ø§Ù„Ù…ØºØ±Ø¨",c:"+212",f:"ğŸ‡²ğŸ‡¦"},{n:"ØªÙˆÙ†Ø³",c:"+216",f:"ğŸ‡¹ğŸ‡³"},{n:"Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±",c:"+213",f:"ğŸ‡©ğŸ‡¿"},{n:"Ø¨Ø±ÙŠØ·Ø§Ù†ÙŠØ§",c:"+44",f:"ğŸ‡¬ğŸ‡§"},{n:"ÙØ±Ù†Ø³Ø§",c:"+33",f:"ğŸ‡«ğŸ‡·"},{n:"Ø£Ù„Ù…Ø§Ù†ÙŠØ§",c:"+49",f:"ğŸ‡©ğŸ‡ª"},{n:"Ø¥ÙŠØ·Ø§Ù„ÙŠØ§",c:"+39",f:"ğŸ‡®ğŸ‡¹"},{n:"ÙƒÙ†Ø¯Ø§",c:"+1",f:"ğŸ‡¨ğŸ‡¦"},{n:"Ø£Ø³ØªØ±Ø§Ù„ÙŠØ§",c:"+61",f:"ğŸ‡¦ğŸ‡º"},{n:"Ø±ÙˆØ³ÙŠØ§",c:"+7",f:"ğŸ‡·ğŸ‡º"},{n:"Ø§Ù„ØµÙŠÙ†",c:"+86",f:"ğŸ‡¨ğŸ‡³"},{n:"Ø§Ù„ÙŠØ§Ø¨Ø§Ù†",c:"+81",f:"ğŸ‡¯ğŸ‡µ"},{n:"Ø§Ù„Ø¨Ø±Ø§Ø²ÙŠÙ„",c:"+55",f:"ğŸ‡§ğŸ‡·"},{n:"Ø§Ù„Ù…ÙƒØ³ÙŠÙƒ",c:"+52",f:"ğŸ‡²ğŸ‡½"},{n:"Ø§Ù„Ù‡Ù†Ø¯",c:"+91",f:"ğŸ‡®ğŸ‡³"},{n:"Ø¨Ø§ÙƒØ³ØªØ§Ù†",c:"+92",f:"ğŸ‡µğŸ‡°"},{n:"Ø¥Ù†Ø¯ÙˆÙ†ÙŠØ³ÙŠØ§",c:"+62",f:"ğŸ‡®ğŸ‡©"},{n:"Ù…Ø§Ù„ÙŠØ²ÙŠØ§",c:"+60",f:"ğŸ‡²ğŸ‡¾"},{n:"ØªØ§ÙŠÙ„Ø§Ù†Ø¯",c:"+66",f:"ğŸ‡¹ğŸ‡­"},{n:"ÙÙŠØªÙ†Ø§Ù…",c:"+84",f:"ğŸ‡»ğŸ‡³"},{n:"Ø§Ù„ÙÙ„Ø¨ÙŠÙ†",c:"+63",f:"ğŸ‡µğŸ‡­"},{n:"Ù‡ÙˆÙ„Ù†Ø¯Ø§",c:"+31",f:"ğŸ‡³ğŸ‡±"},{n:"Ø¨Ù„Ø¬ÙŠÙƒØ§",c:"+32",f:"ğŸ‡§ğŸ‡ª"},{n:"Ø³ÙˆÙŠØ³Ø±Ø§",c:"+41",f:"ğŸ‡¨ğŸ‡­"},{n:"Ø§Ù„Ù†Ù…Ø³Ø§",c:"+43",f:"ğŸ‡¦ğŸ‡¹"},{n:"Ø§Ù„Ù†Ø±ÙˆÙŠØ¬",c:"+47",f:"ğŸ‡³ğŸ‡´"},{n:"Ø§Ù„Ø¯Ù†Ù…Ø§Ø±Ùƒ",c:"+45",f:"ğŸ‡©ğŸ‡°"},{n:"Ø§Ù„Ø³ÙˆÙŠØ¯",c:"+46",f:"ğŸ‡¸ğŸ‡ª"},{n:"ÙÙ†Ù„Ù†Ø¯Ø§",c:"+358",f:"ğŸ‡«ğŸ‡®"},{n:"Ø¨ÙˆÙ„Ù†Ø¯Ø§",c:"+48",f:"ğŸ‡µğŸ‡±"},{n:"Ø§Ù„ÙŠÙˆÙ†Ø§Ù†",c:"+30",f:"ğŸ‡¬ğŸ‡·"},{n:"Ø§Ù„Ø¨Ø±ØªØºØ§Ù„",c:"+351",f:"ğŸ‡µğŸ‡¹"},{n:"Ø£ÙŠØ±Ù„Ù†Ø¯Ø§",c:"+353",f:"ğŸ‡®ğŸ‡ª"}
        // Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ù…Ø³ØªÙ…Ø±Ø©...
    ];

    const drop = document.getElementById('cDrop');
    countries.forEach(item => {
        const d = document.createElement('div'); d.className='country-item';
        d.innerHTML=`<span>${item.f} ${item.n}</span> <span style="direction:ltr">${item.c}</span>`;
        d.onclick=()=>{ document.getElementById('f').innerText=item.f; document.getElementById('c').innerText=item.c; drop.style.display='none'; };
        drop.appendChild(d);
    });
    document.getElementById('cBtn').onclick=(e)=>{ e.stopPropagation(); drop.style.display='block'; };
    window.onclick=()=>drop.style.display='none';

    document.querySelectorAll('.input').forEach(inp => {
        inp.oninput = function() {
            this.classList.remove('invalid');
            const warn = document.getElementById(this.id+'Warn');
            if(warn) warn.style.display = 'none';
        };
    });

    const bL=document.getElementById('loginBox'), bR=document.getElementById('registerBox'), bF=document.getElementById('forgotBox'), tL=document.getElementById('tabL'), tR=document.getElementById('tabR');
    
    tL.onclick = () => { bL.style.display='block'; bR.style.display='none'; bF.style.display='none'; tL.classList.add('active'); tR.classList.remove('active'); };
    tR.onclick = () => { bL.style.display='none'; bR.style.display='block'; bF.style.display='none'; tR.classList.add('active'); tL.classList.remove('active'); };
    document.getElementById('btnForgot').onclick = () => { bL.style.display='none'; bF.style.display='block'; document.getElementById('fSuccess').style.display='none'; };
    document.getElementById('backToLoginR').onclick = document.getElementById('backToLoginF').onclick = () => tL.onclick();

    // Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨
    document.getElementById('btnReg').onclick = function() {
        const n=document.getElementById('rName'), e=document.getElementById('rEmail'), ph=document.getElementById('rPhone'), p=document.getElementById('rPass'), cp=document.getElementById('rCPass');
        let v = true;
        if(n.value.trim().length < 4) { n.classList.add('invalid'); document.getElementById('rNameWarn').style.display='block'; v=false; }
        if(ph.value.length < 8) { ph.classList.add('invalid'); document.getElementById('rPhoneWarn').style.display='block'; v=false; }
        if(!e.value.toLowerCase().endsWith('@gmail.com')) { e.classList.add('invalid'); document.getElementById('rEmailWarn').innerText="ÙŠØ¬Ø¨ Ø§Ø³ØªØ®Ø¯Ø§Ù… @gmail.com"; document.getElementById('rEmailWarn').style.display='block'; v=false; }
        if(p.value.length < 6) { p.classList.add('invalid'); document.getElementById('rPassWarn').style.display='block'; v=false; }
        if(p.value !== cp.value) { cp.classList.add('invalid'); document.getElementById('rCPassWarn').style.display='block'; v=false; }

        if(!v) return;
        this.innerText = "Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø­ÙØ¸...";
        auth.createUserWithEmailAndPassword(e.value, p.value).then(() => {
            document.getElementById('lEmail').value = e.value;
            document.getElementById('lPass').value = p.value;
            this.innerText = "Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨";
            tL.click();
        }).catch(err => {
            this.innerText = "Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨";
            if(err.code === 'auth/email-already-in-use') { e.classList.add('invalid'); document.getElementById('rEmailWarn').innerText="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ù…Ø³Ø¬Ù„ Ù…Ø³Ø¨Ù‚Ø§Ù‹!"; document.getElementById('rEmailWarn').style.display='block'; }
        });
    };

    // Ø¯Ø®ÙˆÙ„
    document.getElementById('btnLogin').onclick = function() {
        auth.signInWithEmailAndPassword(document.getElementById('lEmail').value, document.getElementById('lPass').value)
        .then(() => window.location.href="home.html")
        .catch(() => document.getElementById('lEmailWarn').style.display='block');
    };

    // --- Ø¥ØµÙ„Ø§Ø­ Ù†Ø³ÙŠØª ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ---
    document.getElementById('btnSendReset').onclick = function() {
        const fe = document.getElementById('fEmail');
        if(!fe.value.includes('@')) { fe.classList.add('invalid'); return; }
        
        this.innerText = "Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„...";
        auth.sendPasswordResetEmail(fe.value).then(() => {
            this.innerText = "Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø§Ø¨Ø·";
            document.getElementById('fSuccess').style.display = 'block';
            document.getElementById('fEmailWarn').style.display = 'none';
        }).catch(() => {
            this.innerText = "Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø§Ø¨Ø·";
            document.getElementById('fEmailWarn').style.display = 'block';
            document.getElementById('fSuccess').style.display = 'none';
        });
    };
</script>
</body>
</html>
